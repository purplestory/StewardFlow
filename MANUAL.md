# StewardFlow 사용자 매뉴얼

## 목차
1. [시작하기](#시작하기)
2. [메인 화면](#메인-화면)
3. [물품 관리](#물품-관리)
4. [공간 관리](#공간-관리)
5. [차량 관리](#차량-관리)
6. [예약 관리](#예약-관리)
7. [프로필 관리](#프로필-관리)
8. [관리자 기능](#관리자-기능)
9. [알림](#알림)

---

## 시작하기

### 로그인
- **카카오톡 로인**: 카카오톡 계정으로 간편 로그인
- **초대 코드**: 관리자로부터 받은 초대 코드로 가입
- **초대 없이 가입**: 카카오톡 로그인으로 가입 가능 (관리자 승인 필요)

### 권한 레벨
- **일반 사용자**: 물품 조회, 예약 신청, 프로필 관리
- **부서 관리자**: 일반 사용자 권한 + 부서 내 물품 관리, 예약 승인
- **최고 관리자**: 모든 권한 + 기관 설정, 사용자 관리

---

## 메인 화면

### 접근 권한
- **모든 사용자**: 접근 가능

### 주요 기능
- StewardFlow 소개
- 물품, 공간, 차량 둘러보기 링크
- 로그인/가입

---

## 물품 관리

### 물품 목록 보기
- **접근 권한**: 모든 사용자
- **기능**:
  - 물품 검색 (자산명, 부서, 태그)
  - 상태별 필터링 (대여 가능, 대여 중, 수리 중, 분실, 불용품)
  - 부서별 필터링
  - 물품 카드 클릭 시 상세보기

### 물품 상세보기
- **접근 권한**: 모든 사용자
- **표시 정보**:
  - 물품명, 모델명, 이미지
  - 상태 뱃지 (대여 가능, 대여 중, 수리 중, 분실, 불용품)
  - 소유 범위/부서 (한 줄 표시)
  - 카테고리, 설치 형태, 수량
  - 구입일, 구입 금액, 사용 수명
  - 예약 캘린더
  - 예약 현황
  - 대여 신청 폼

#### 대여 신청
- **접근 권한**: 모든 사용자
- **사용 방법**:
  1. 예약 캘린더에서 날짜 범위 선택 (자동으로 대여 신청 폼에 반영)
  2. 시작일시/종료일시 입력 (높이 38px 통일)
  3. 반복 유형 선택 (반복 없음, 매주 반복, 매월 반복)
  4. 사용 목적 입력
  5. "대여 신청" 버튼 클릭

#### 불용품 양도 요청
- **접근 권한**: 모든 사용자
- **표시 조건**:
  - 물품 상태가 "불용품"인 경우만 표시
  - 타 부서의 불용품인 경우만 표시
  - 내 부서의 불용품은 표시되지 않음
- **사용 방법**:
  1. 요청 사유 입력
  2. "이동 요청" 버튼 클릭
  3. 요청 상태는 알림 메뉴에서 확인

#### 관리자 전용 기능
- **접근 권한**: 관리자/부서 관리자만 표시
- **소유 범위/부서 변경**:
  - 소유 범위와 소유 부서가 한 줄로 표시됨
  - 수정 아이콘 클릭 시 변경 폼 펼침
  - 소유 범위 선택 (부서 소유 / 기관 공용)
  - 소유 부서 선택
  - "부서 이동 저장" 버튼으로 저장
- **불용품 전환**:
  - "불용품 전환" 버튼으로 물품 상태를 불용품으로 변경

---

## 공간 관리

### 공간 목록 보기
- **접근 권한**: 모든 사용자
- **기능**:
  - 공간 검색
  - 상태별 필터링 (사용 가능, 예약 중, 사용 불가)
  - 부서별 필터링
  - 공간 카드 클릭 시 상세보기

### 공간 상세보기
- **접근 권한**: 모든 사용자
- **표시 정보**:
  - 공간명, 이미지
  - 상태 뱃지 (사용 가능, 예약 중, 사용 불가) - 물품과 동일한 디자인
  - 소유 범위/부서
  - 위치, 수용 인원
  - 예약 캘린더
  - 예약 현황
  - 대여 신청 폼

### 공간 등록/수정
- **접근 권한**: 관리자/부서 관리자
- **등록 방법**:
  1. 공간 목록에서 "공간 등록" 버튼 클릭
  2. 공간 정보 입력 (이름, 카테고리, 소유 범위, 위치, 수용 인원 등)
  3. 이미지 업로드 (최대 10개)
  4. 저장

---

## 차량 관리

### 차량 목록 보기
- **접근 권한**: 모든 사용자
- **기능**:
  - 차량 검색
  - 상태별 필터링 (사용 가능, 예약 중, 사용 불가)
  - 부서별 필터링
  - 차량 카드 클릭 시 상세보기

### 차량 상세보기
- **접근 권한**: 모든 사용자
- **표시 정보**:
  - 차량명, 이미지
  - 상태 뱃지 (사용 가능, 예약 중, 사용 불가) - 물품과 동일한 디자인
  - 소유 범위/부서
  - 차종, 연료 타입, 번호판, 탑승 인원
  - 예약 캘린더
  - 예약 현황
  - 대여 신청 폼 (초기 주행거리 입력 포함)

### 차량 등록/수정
- **접근 권한**: 관리자/부서 관리자
- **등록 방법**:
  1. 차량 목록에서 "차량 등록" 버튼 클릭
  2. 차량 정보 입력 (이름, 차종, 연료 타입, 번호판, 탑승 인원 등)
  3. 이미지 업로드 (최대 10개)
  4. 저장

---

## 예약 관리

### 예약 신청
- **접근 권한**: 모든 사용자
- **사용 방법**: 물품/공간/차량 상세보기에서 대여 신청 폼 사용
- **입력 필드 높이**: 모든 필드 38px로 통일

### 예약 승인/반려
- **접근 권한**: 관리자/부서 관리자
- **접근 경로**: 자원 관리 메뉴 → 예약 관리 탭
- **기능**:
  - 예약 신청 목록 확인
  - 상태별 필터링 (승인 대기, 승인됨, 반려, 반납 완료)
  - 승인/반려 처리
  - 반납 확인

---

## 프로필 관리

### 접근 경로
- 헤더 메뉴 → "마이페이지"

### 프로필 정보
- **접근 권한**: 모든 사용자
- **표시 정보** (한 줄 레이아웃):
  - 이름 (읽기 전용)
  - 이메일 (읽기 전용)
  - 전화번호 (수정 가능 - 수정 아이콘 클릭)
  - 기관 (읽기 전용)
  - 소속 부서 (부서 변경 요청 가능 - 수정 아이콘 클릭)
  - 역할 (읽기 전용)

### 전화번호 수정
- **접근 권한**: 모든 사용자
- **사용 방법**:
  1. 전화번호 옆 수정 아이콘 클릭
  2. 전화번호 입력
  3. "저장" 버튼 클릭

### 부서 변경 요청
- **접근 권한**: 모든 사용자
- **사용 방법**:
  1. 소속 부서 옆 수정 아이콘 클릭
  2. 변경할 부서 선택
  3. 변경 사유 입력 (선택사항)
  4. "요청" 버튼 클릭
  5. 관리자 승인 대기

### 계정 탈퇴
- **접근 권한**: 모든 사용자
- **일반 사용자**:
  - "계정 탈퇴" 버튼 클릭
  - 확인 모달에서 "탈퇴하기" 클릭
  - 즉시 탈퇴 처리
- **부서 관리자**:
  - "계정 탈퇴" 버튼 클릭
  - 확인 모달에서 부서 관리자 권한 위임할 사용자 선택 (필수)
  - "탈퇴하기" 클릭
  - 최고 관리자 승인 대기
  - 승인 후 탈퇴 처리

---

## 관리자 기능

### 접근 권한
- **최고 관리자**: 모든 관리 기능 접근 가능
- **부서 관리자**: 부서 내 관리 기능만 접근 가능
- **일반 사용자**: 관리 페이지 접근 불가 (헤더 메뉴에서도 제거됨)

### 자원 관리
- **접근 경로**: 헤더 메뉴 → "관리페이지" (관리자/부서 관리자만 표시)
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 물품/공간/차량 상태 관리
  - 예약 승인/반려 처리
  - 불용품 양도 요청 관리
  - 상태별 필터링 (전체, 대여 가능, 대여 중, 수리 중, 사용 불가)
  - 일괄 상태 변경

#### 불용품 양도 요청 관리
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 내 요청 / 내 부서 요청 / 전체 탭
  - 상태별 필터링 (전체, 대기, 승인, 거절, 취소)
  - 정렬 (최신순, 오래된순)
  - 부서별 필터링
  - 자산/부서 검색
  - 요청자 이름/이메일 검색
  - 승인/거절 처리

### 사용자 관리
- **접근 경로**: 자원 관리 → "사용자 관리" 탭
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 등록된 사용자 목록
  - 사용자 역할 변경 (최고 관리자만 다른 사용자 역할 변경 가능)
  - 사용자 부서 변경 (최고 관리자만 가능)
  - 사용자 삭제
  - 미승인 사용자 승인 (최고 관리자만)
  - 부서 변경 요청 승인/거절
  - 계정 탈퇴 요청 승인/거절 (최고 관리자만)

#### 역할 변경 권한
- **최고 관리자**:
  - 모든 사용자의 역할 변경 가능
  - 모든 사용자의 부서 변경 가능
- **부서 관리자**:
  - 같은 부서의 일반 사용자만 역할 변경 가능
  - 역할 변경: 일반 사용자 ↔ 부서 관리자
  - 부서 변경 불가
- **일반 사용자**:
  - 사용자 관리 페이지 접근 불가

### 메뉴 관리 (기능 설정)
- **접근 경로**: 자원 관리 → "메뉴 관리" 탭
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 기능 활성화/비활성화 (물품, 공간, 차량)
  - 메뉴 이름 설정
  - 메뉴 순서 변경 (드래그 앤 드롭)
  - 카테고리 관리

### 기관 및 부서 관리
- **접근 경로**: 자원 관리 → "기관 및 부서관리" 탭
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 기관 정보 관리
  - 부서 추가/삭제/수정
  - 부서 순서 변경 (드래그 앤 드롭)
  - 소유 정책 설정
  - 승인 정책 관리
  - 반납 확인 정책 설정

### 감사 로그
- **접근 경로**: 자원 관리 → "감사 로그" 탭
- **접근 권한**: 관리자/부서 관리자
- **기능**:
  - 모든 시스템 활동 기록 조회
  - 필터링 (날짜, 담당자, 액션 타입)
  - 검색

---

## 알림

### 접근 경로
- 헤더 메뉴 → "알림"

### 접근 권한
- **모든 사용자**: 접근 가능

### 알림 유형
- 예약 신청 알림
- 예약 승인/반려 알림
- 불용품 양도 요청 알림
- 부서 변경 요청 알림
- 계정 탈퇴 요청 알림

### 기능
- 알림 목록 확인
- 읽음/안 읽음 표시
- 알림 클릭 시 관련 페이지로 이동
- 필터링 (최신순, 미읽음 우선, 상태 우선)
- 컴팩트 보기 옵션

---

## UI/UX 개선사항

### 통일된 디자인
- **버튼/입력 필드 높이**: 모든 페이지에서 38px로 통일
- **상태 뱃지**: 물품, 공간, 차량 모두 동일한 디자인
  - 대여 가능/사용 가능: 초록색 뱃지 (체크마크 아이콘)
  - 대여 중/예약 중: 파란색 뱃지 (시계 아이콘)
  - 수리 중/사용 불가: 노란색 뱃지 (기어 아이콘)
  - 분실: 빨간색 뱃지 (경고 아이콘)
  - 불용품: 회색 뱃지 (X 아이콘)

### 레이아웃 개선
- **프로필 정보**: 라벨과 내용을 한 줄로 표시하여 공간 절약
- **소유 범위/부서**: 한 줄로 표시, 변경 기능은 접어두기 형태
- **관리 페이지 접근**: 일반 사용자는 헤더 메뉴에서 제거, 직접 URL 접근 시에도 차단

### 모바일 최적화
- 반응형 디자인
- 햄버거 메뉴
- 터치 친화적 버튼 크기

---

## 주요 기능별 권한 요약

| 기능 | 일반 사용자 | 부서 관리자 | 최고 관리자 |
|------|------------|-----------|-----------|
| 물품 조회 | ✅ | ✅ | ✅ |
| 예약 신청 | ✅ | ✅ | ✅ |
| 불용품 양도 요청 | ✅ | ✅ | ✅ |
| 프로필 수정 | ✅ | ✅ | ✅ |
| 부서 변경 요청 | ✅ | ✅ | ✅ |
| 물품 등록/수정 | ❌ | ✅ (자신의 부서) | ✅ |
| 예약 승인/반려 | ❌ | ✅ (자신의 부서) | ✅ |
| 사용자 관리 | ❌ | ✅ (자신의 부서) | ✅ |
| 역할 변경 | ❌ | ✅ (같은 부서만) | ✅ |
| 부서 변경 | ❌ | ❌ | ✅ |
| 기관 설정 | ❌ | ❌ | ✅ |
| 메뉴 관리 | ❌ | ✅ | ✅ |
| 감사 로그 | ❌ | ✅ | ✅ |

---

## 문제 해결

### 로그인이 안 될 때
- 카카오톡 로그인 재시도
- 브라우저 캐시 삭제
- 관리자에게 문의

### 예약이 승인되지 않을 때
- 예약 정책 확인 (부서 관리자 승인 필요 여부)
- 관리자에게 문의

### 부서 변경이 안 될 때
- 부서 변경 요청 상태 확인
- 관리자 승인 대기 중인지 확인
- 관리자에게 문의

---

## 문의 및 지원

기술적 문제나 기능 관련 문의는 관리자에게 연락하시기 바랍니다.
