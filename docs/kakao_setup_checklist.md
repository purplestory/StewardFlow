# ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

ì•± ì´ë¦„: **ìŠ¤íŠœì–´ë“œ í”Œë¡œìš° (steward flow)**

## âœ… ì™„ë£Œëœ ë‹¨ê³„
- [x] ì¹´ì¹´ì˜¤ ì•± ë“±ë¡ (ìŠ¤íŠœì–´ë“œ í”Œë¡œìš°)

## ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„

### 1. í”Œë«í¼ ì„¤ì •
- [ ] "ì•± ì„¤ì •" â†’ "í”Œë«í¼" ë©”ë‰´ë¡œ ì´ë™
- [ ] "Web í”Œë«í¼ ì¶”ê°€" í´ë¦­
- [ ] ì‚¬ì´íŠ¸ ë„ë©”ì¸ ì…ë ¥:
  - ê°œë°œìš©: `http://localhost:3000`
  - í”„ë¡œë•ì…˜ìš©: (ë°°í¬ í›„ ë„ë©”ì¸ ì…ë ¥)
- [ ] ì €ì¥

### 2. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™œì„±í™”
- [ ] "ì œí’ˆ ì„¤ì •" â†’ "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸" ë©”ë‰´ë¡œ ì´ë™
- [ ] "í™œì„±í™” ì„¤ì •"ì„ **ON**ìœ¼ë¡œ ë³€ê²½
- [ ] "Redirect URI ë“±ë¡" ì„¹ì…˜ì—ì„œ:
  - [ ] ê°œë°œìš©: `http://localhost:3000/auth/callback` ì¶”ê°€
  - [ ] Supabase ì½œë°±: `https://[your-project-ref].supabase.co/auth/v1/callback` ì¶”ê°€
    - âš ï¸ Supabase í”„ë¡œì íŠ¸ì˜ ì‹¤ì œ URLë¡œ êµì²´ í•„ìš”
- [ ] **OpenID Connect ì„¤ì • (ì„ íƒ, ê¶Œì¥)**:
  - [ ] OpenID Connect í™œì„±í™” (ë” ë§ì€ ì‚¬ìš©ì ì •ë³´ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ë°›ê¸° ìœ„í•´ ê¶Œì¥)
- [ ] ì €ì¥

### 3. ë™ì˜ í•­ëª© ì„¤ì • (âš ï¸ í•„ìˆ˜ - ì˜¤ë¥˜ ë°©ì§€)
- [ ] "ì œí’ˆ ì„¤ì •" â†’ "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸" â†’ "ë™ì˜í•­ëª©" ë©”ë‰´ë¡œ ì´ë™
- [ ] ë‹¤ìŒ ë™ì˜ í•­ëª©ì„ **í™œì„±í™”** (í† ê¸€ ON):
  - [ ] **ë‹‰ë„¤ì„** (`profile_nickname`) - í™œì„±í™”: ON âœ… í•„ìˆ˜
  - [ ] **í”„ë¡œí•„ ì‚¬ì§„** (`profile_image`) - í™œì„±í™”: ON âœ… í•„ìˆ˜
  - [ ] **ì¹´ì¹´ì˜¤ê³„ì •(ì´ë©”ì¼)** (`account_email`) - ì„ íƒ
    - âš ï¸ "ê¶Œí•œ ì—†ìŒ"ì¸ ê²½ìš°: ê±´ë„ˆë›°ê¸° ê°€ëŠ¥ (ì´ë©”ì¼ ì—†ì´ë„ ë¡œê·¸ì¸ ê°€ëŠ¥)
    - ğŸ’¡ ì´ë©”ì¼ì´ í•„ìš”í•œ ê²½ìš°: ë¹„ì¦ˆì•± ì „í™˜ ë° ì‹¬ì‚¬ í•„ìš” (1-2ì£¼ ì†Œìš”)
- [ ] ê° í•­ëª©ì˜ "í™œì„±í™”" í† ê¸€ì´ **ON**ì¸ì§€ í™•ì¸
- [ ] **"ì €ì¥"** ë²„íŠ¼ í´ë¦­
- [ ] ì €ì¥ ì™„ë£Œ í™•ì¸

> âš ï¸ **ì¤‘ìš”**: 
> - ë‹‰ë„¤ì„ê³¼ í”„ë¡œí•„ ì‚¬ì§„ì€ ë°˜ë“œì‹œ í™œì„±í™”í•´ì•¼ "KOE205" ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ì´ë©”ì¼ì€ ë¹„ì¦ˆì•± ì „í™˜ ë° ì‹¬ì‚¬ê°€ í•„ìš”í•˜ì§€ë§Œ, ì—†ì–´ë„ ë¡œê·¸ì¸ì€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
> - ìì„¸í•œ ë‚´ìš©ì€ `docs/kakao_email_consent_issue.md`ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### 4. ì•± í‚¤ í™•ì¸
- [ ] "ì•± ì„¤ì •" â†’ "ì•± í‚¤" ë©”ë‰´ë¡œ ì´ë™
- [ ] **REST API í‚¤** ë³µì‚¬ (Supabaseì— ì…ë ¥í•  ì˜ˆì •)
- [ ] "ì œí’ˆ ì„¤ì •" â†’ "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸" â†’ "ë³´ì•ˆ" ë©”ë‰´ë¡œ ì´ë™
- [ ] "Client Secret ì½”ë“œ ìƒì„±" í´ë¦­ (ì•„ì§ ì•ˆ í–ˆë‹¤ë©´)
- [ ] **Client Secret** ë³µì‚¬ (Supabaseì— ì…ë ¥í•  ì˜ˆì •)

### 5. Supabase ì„¤ì •
- [ ] Supabase ëŒ€ì‹œë³´ë“œ ì ‘ì† (https://supabase.com/dashboard)
- [ ] í”„ë¡œì íŠ¸ ì„ íƒ
- [ ] ì™¼ìª½ ë©”ë‰´ì—ì„œ **"Authentication"** í´ë¦­
- [ ] ìƒë‹¨ íƒ­ì—ì„œ **"Providers"** í´ë¦­
- [ ] Provider ëª©ë¡ì—ì„œ **"Kakao"** ì°¾ê¸° (ê²€ìƒ‰ ê°€ëŠ¥)
- [ ] **"Enable Kakao"** í† ê¸€ì„ **ON**ìœ¼ë¡œ ë³€ê²½
- [ ] ì„¤ì • í¼ì— ë‹¤ìŒ ì •ë³´ ì…ë ¥:
  - [ ] **Kakao Client ID**: ì¹´ì¹´ì˜¤ì—ì„œ ë³µì‚¬í•œ REST API í‚¤ ì…ë ¥
  - [ ] **Kakao Client Secret**: ì¹´ì¹´ì˜¤ì—ì„œ ë³µì‚¬í•œ Client Secret ì…ë ¥
- [ ] **"Redirect URL"** í™•ì¸ (Supabaseê°€ ìë™ ìƒì„±, ì¹´ì¹´ì˜¤ì— ë“±ë¡ í•„ìš”)
- [ ] **"Save"** ë˜ëŠ” **"Update settings"** ë²„íŠ¼ í´ë¦­í•˜ì—¬ ì €ì¥

### 6. Redirect URLì„ ì¹´ì¹´ì˜¤ì— ë“±ë¡
- [ ] Supabaseì—ì„œ ì œê³µí•œ Redirect URL ë³µì‚¬
  - í˜•ì‹: `https://[your-project-ref].supabase.co/auth/v1/callback`
  - Supabase ëŒ€ì‹œë³´ë“œ â†’ Authentication â†’ Providers â†’ Kakao ì„¤ì •ì—ì„œ í™•ì¸
- [ ] ì¹´ì¹´ì˜¤ ê°œë°œì ì„¼í„°ë¡œ ëŒì•„ê°€ê¸°
- [ ] "ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜" â†’ "ìŠ¤íŠœì–´ë“œ í”Œë¡œìš°" ì•± ì„ íƒ
- [ ] ì™¼ìª½ ë©”ë‰´: "ì œí’ˆ ì„¤ì •" â†’ "ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸" í´ë¦­
- [ ] "Redirect URI ë“±ë¡" ì„¹ì…˜ ì°¾ê¸°
- [ ] "+ Redirect URI ì¶”ê°€" ë²„íŠ¼ í´ë¦­
- [ ] Supabase Redirect URL ì…ë ¥ (ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•¨)
- [ ] "ë“±ë¡" ë˜ëŠ” "ì €ì¥" ë²„íŠ¼ í´ë¦­
- [ ] ë“±ë¡ëœ URI í™•ì¸

### 7. í…ŒìŠ¤íŠ¸
- [ ] ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰: `npm run dev`
- [ ] `/login` í˜ì´ì§€ ì ‘ì†
- [ ] "ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
- [ ] ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í™”ë©´ì—ì„œ ë¡œê·¸ì¸
- [ ] ë¦¬ë‹¤ì´ë ‰íŠ¸ í›„ ë¡œê·¸ì¸ ì„±ê³µ í™•ì¸

## ğŸ“ ì°¸ê³  ì •ë³´

### Supabase Redirect URL ì°¾ëŠ” ë°©ë²•
1. Supabase ëŒ€ì‹œë³´ë“œ â†’ Authentication â†’ URL Configuration
2. "Redirect URLs" ì„¹ì…˜ì—ì„œ í™•ì¸
3. ë˜ëŠ” "Providers" â†’ "Kakao" ì„¤ì • í™”ë©´ì—ì„œ í™•ì¸

### ë¬¸ì œ í•´ê²°
- "Invalid redirect_uri" ì˜¤ë¥˜: ì¹´ì¹´ì˜¤ì— ë“±ë¡í•œ Redirect URIì™€ Supabaseì˜ URIê°€ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
- "Client authentication failed" ì˜¤ë¥˜: REST API í‚¤ì™€ Client Secretì´ ì •í™•í•œì§€ í™•ì¸
