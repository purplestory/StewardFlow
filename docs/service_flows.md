# 서비스 플로우

본 문서는 주요 플로우를 빠르게 이해하기 위한 요약 도표입니다.

## 1) 조직/권한 플로우

```
로그인
  -> 프로필 생성/갱신
  -> 조직 설정(생성/참여)
  -> 사용자 초대/권한 변경
  -> 감사 로그 기록
```

## 2) 자산 등록 플로우

```
자산 등록 폼 작성
  -> 이미지 업로드(Supabase Storage)
  -> 자산 DB 등록
  -> 감사 로그 기록
```

## 3) 자산 예약/승인/반납 플로우

```
예약 신청
  -> 승인 정책 확인
  -> 예약 상태 변경(API)
  -> 자산 상태 갱신
  -> 마지막 사용일 갱신(승인 시)
  -> 알림 생성
  -> 감사 로그 기록
```

## 4) 공간 예약/승인/반납 플로우

```
예약 신청
  -> 승인 정책 확인
  -> 예약 상태 변경(API)
  -> 공간 상태 갱신
  -> 알림 생성
  -> 감사 로그 기록
```

## 5) 초대 플로우

```
관리자/부서관리자 초대 발송
  -> organization_invites 저장
  -> 초대 수락 시 자동 조직 연결
  -> 만료/취소 처리
  -> 감사 로그 기록
```

## 6) 승인 정책 관리 플로우

```
정책 생성/수정/삭제/템플릿 생성
  -> approval_policies 변경
  -> 감사 로그 기록
```

## 7) 상태 일괄 변경 플로우

```
자산/공간 선택
  -> 상태 일괄 변경
  -> 감사 로그 기록
```

## 8) 불용품 이동 요청 플로우

```
불용품 자산 확인
  -> 이동 요청 등록
  -> 소유 부서/관리자 승인 또는 거절
  -> 승인 시 소유 부서 변경
  -> 감사 로그 기록
```
