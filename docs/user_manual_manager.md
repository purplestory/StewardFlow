# Steward Flow - 부서 관리자 매뉴얼

## 목차
1. [부서 관리자 권한 개요](#부서-관리자-권한-개요)
2. [일반 사용자 기능](#일반-사용자-기능)
3. [본인 부서 자원 관리](#본인-부서-자원-관리)
4. [예약 승인 및 관리](#예약-승인-및-관리)
5. [반납 확인](#반납-확인)
6. [자주 묻는 질문](#자주-묻는-질문)

---

## 부서 관리자 권한 개요

### 부서 관리자란?

부서 관리자는 본인 부서의 자원을 관리하고, 해당 부서와 관련된 예약을 승인/거부할 수 있는 권한을 가진 사용자입니다.

### 부서 관리자가 할 수 있는 것

✅ **일반 사용자 기능 모두 사용 가능**
- 자원 조회 및 검색
- 예약 신청
- 내 예약 관리
- 반납 처리
- 알림 확인

✅ **부서 관리자 전용 기능**
- 본인 부서 자원 등록/수정/삭제
- 본인 부서 소유 자원의 예약 승인/거부
- 기관 공용 자원의 예약 승인/거부 (정책에 따라)
- 반납 확인 및 검증
- 본인 부서 자원의 상태 변경

### 부서 관리자가 할 수 없는 것

❌ **관리자 전용 기능**
- 기관 설정 변경
- 사용자 관리 (역할 변경, 초대)
- 승인 정책 설정
- 모든 부서의 자원 관리
- 감사 로그 확인

---

## 일반 사용자 기능

부서 관리자도 일반 사용자와 동일하게 다음 기능을 사용할 수 있습니다:

- 자원 조회 및 검색
- 예약 신청
- 내 예약 관리
- 반납 처리
- 알림 확인
- 프로필 관리

자세한 내용은 [일반 사용자 매뉴얼](./user_manual_general.md)을 참고하세요.

---

## 본인 부서 자원 관리

### 1. 자원 등록

**경로**: 상단 메뉴 > **"물품"** (또는 "공간", "차량") > **"물품 등록"** 버튼

**물품 등록:**
1. **"물품 등록"** 버튼 클릭
2. 등록 정보 입력:
   - **물품명**: 물품 이름 (필수)
   - **카테고리**: 드롭다운에서 선택 (필수)
   - **이미지**: 물품 사진 (선택사항, 여러 장 가능)
   - **소유 부서**: 본인 부서 선택 (드롭다운)
   - **설치(보관) 장소**: 물품이 있는 위치
   - **설치 형태**: 이동 / 고정
   - **상태**: 사용 가능 / 사용 중 / 수리 중 / 분실 / 불용품
   - **구입일**: 구입한 날짜
   - **구입금액**: 구입 금액 (자동으로 콤마 표시)
   - **사용 수명(연한)**: 사용 수명 (년 단위)
   - **사용 기한**: 자동 계산됨 (구입일 + 사용 수명)
   - **태그**: 물품을 분류하는 태그 (쉼표로 구분)
3. **"등록"** 버튼 클릭
4. 등록 완료 후 관리 페이지로 이동

**공간 등록:**
- 물품과 유사하지만 다음 정보 추가:
  - 수용 인원
  - 비고 (사용 시 주의사항 등)

**차량 등록:**
- 물품과 유사하지만 다음 정보 추가:
  - 차량 번호판
  - 차종
  - 연료 타입
  - 현재 주행거리
  - 주차 장소

**주의사항:**
- 부서 관리자는 **본인 부서**의 자원만 등록할 수 있습니다
- 기관 공용 자원은 관리자만 등록할 수 있습니다

### 2. 자원 수정

**경로**: 자원 상세 페이지 > **"수정"** 버튼

**수정 가능한 자원:**
- 본인 부서 소유 자원
- 기관 공용 자원 (관리자와 동일하게 수정 가능)

**수정 방법:**
1. 자원 상세 페이지로 이동
2. **"수정"** 버튼 클릭
3. 수정할 정보 변경
4. **"저장"** 버튼 클릭

**수정 가능한 항목:**
- 모든 등록 시 입력한 항목
- 이미지 추가/삭제
- 상태 변경

### 3. 자원 삭제

**경로**: 자원 상세 페이지 > **"수정"** 버튼 > 삭제 섹션

**삭제 가능한 자원:**
- 본인 부서 소유 자원
- 기관 공용 자원 (관리자와 동일하게 삭제 가능)

**삭제 방법:**
1. 자원 수정 페이지로 이동
2. 하단 **"삭제"** 섹션으로 스크롤
3. **"삭제"** 버튼 클릭
4. 삭제 사유 선택:
   - 불필요
   - 손상
   - 분실
   - 기타 (직접 입력)
5. **"확인"** 버튼 클릭
6. 삭제 완료

**주의사항:**
- 삭제된 자원은 소프트 삭제되어 복원 가능합니다
- 삭제된 자원은 일반 목록에서 보이지 않습니다
- 관리 페이지에서 삭제된 자원을 확인하고 복원할 수 있습니다

### 4. 자원 상태 변경

**경로**: 관리 페이지 > 자원 관리

**상태 변경:**
1. 관리 페이지 > **"자원 관리"** 클릭
2. 해당 자원 타입 탭 선택 (물품/공간/차량)
3. 자원 목록에서 대상 자원 찾기
4. **"상태"** 드롭다운에서 상태 선택:
   - 사용 가능
   - 사용 중
   - 수리 중
   - 분실
   - 불용품
5. 자동 저장됨

**상태별 의미:**
- **사용 가능**: 정상적으로 사용 가능한 상태
- **사용 중**: 현재 사용 중인 상태
- **수리 중**: 수리가 필요한 상태
- **분실**: 분실된 상태
- **불용품**: 더 이상 사용하지 않는 상태

---

## 예약 승인 및 관리

**경로**: 관리 페이지 > **"자원 관리"** > 예약 관리 탭

### 1. 예약 목록 확인

**예약 목록:**
- 본인이 승인할 수 있는 예약만 표시됩니다
- 승인 정책에 따라 표시되는 예약이 결정됩니다

**필터링:**
- 상태별 필터: 전체 / 승인 대기 / 승인됨 / 반납 완료 / 반려
- 검색: 자원명, 사용자명으로 검색

**예약 정보:**
- 자원 정보 (물품/공간/차량명, 이미지)
- 사용자 정보 (이름, 부서)
- 예약 기간 (시작일시 ~ 종료일시)
- 상태
- 사용 목적
- 반복 예약 여부

### 2. 예약 승인

**승인 가능한 예약:**
- 승인 정책에 따라 본인이 승인할 수 있는 예약만 표시됩니다
- 일반적으로:
  - 본인 부서 소유 자원의 예약
  - 기관 공용 자원의 예약 (정책에 따라)

**승인 방법:**
1. 예약 목록에서 **"승인 대기"** 상태의 예약 찾기
2. 예약 카드 클릭하여 상세 확인
3. **"승인"** 버튼 클릭
4. 확인 후 승인 완료

**승인 후:**
- 예약 상태가 **"승인됨"**으로 변경됩니다
- 사용자에게 승인 알림이 전송됩니다
- 예약 일정에 반영됩니다

### 3. 예약 거부

**거부 방법:**
1. 예약 목록에서 **"승인 대기"** 상태의 예약 찾기
2. 예약 카드 클릭하여 상세 확인
3. **"거부"** 버튼 클릭
4. 거부 사유 입력 (선택사항)
5. 확인 후 거부 완료

**거부 후:**
- 예약 상태가 **"반려"**로 변경됩니다
- 사용자에게 거부 알림이 전송됩니다
- 거부 사유가 사용자에게 전달됩니다

### 4. 승인 정책 이해하기

**승인 정책이란?**
- **"누가 어떤 예약을 승인할 수 있는지"**를 정의하는 정책입니다
- 관리자가 기관 설정에서 설정합니다

**정책 구성 요소:**
- **범위**: 물품 / 공간 / 차량
- **부서**: 특정 부서 또는 전체 기관
- **필요 역할**: 관리자 / 부서 관리자 / 일반 사용자

**정책 우선순위:**
1. **부서별 정책** (특정 부서)
2. **기관 전체 정책** (부서가 null)
3. **기본값**: 부서 관리자 (정책이 없을 때)

**예시:**
- 청년부 소유 물품 → 청년부 부서 관리자 이상만 승인 가능
- 기관 공용 공간 → 기관 전체 정책에 따라 승인 가능

**주의사항:**
- 승인 정책은 관리자만 설정할 수 있습니다
- 본인의 승인 권한을 확인하려면 관리자에게 문의하세요

---

## 반납 확인

**경로**: 관리 페이지 > **"자원 관리"** > 예약 관리 탭

### 1. 반납 요청 확인

**반납 대기 목록:**
- **"반납 완료"** 상태의 예약 확인
- 사용자가 업로드한 반납 사진 확인
- 반납 메모 확인

**차량 반납:**
- 계기판 사진 확인
- 외관 사진 확인
- 주행거리 확인
- 대여 시 주행거리와 비교

### 2. 반납 검증

**검증 프로세스:**
1. 반납 요청 목록에서 대상 예약 찾기
2. 예약 카드 클릭하여 상세 확인
3. 반납 사진 및 정보 확인
4. **"검증 완료"** 또는 **"반납 거부"** 버튼 클릭

**검증 완료:**
- 예약 상태가 **"완료됨"**으로 변경됩니다
- 사용자에게 검증 완료 알림이 전송됩니다
- 차량의 경우 주행거리가 자동으로 업데이트됩니다

**반납 거부:**
- 거부 사유 입력
- 사용자에게 거부 알림이 전송됩니다
- 사용자는 재반납할 수 있습니다

### 3. 반납 확인 정책

**반납 확인 정책:**
- 기관 설정에서 관리자가 설정합니다
- 정책에 따라 검증이 필수일 수 있습니다

**정책에 따른 동작:**
- **검증 불필요**: 사용자 반납 시 즉시 완료
- **검증 필수**: 관리자/부서 관리자 검증 후 완료

---

## 자주 묻는 질문

### Q1. 다른 부서의 자원을 관리할 수 있나요?

A. 아니요. 부서 관리자는 **본인 부서**의 자원만 관리할 수 있습니다. 기관 공용 자원은 관리자와 동일하게 관리할 수 있습니다.

### Q2. 다른 부서의 예약을 승인할 수 있나요?

A. 승인 정책에 따라 다릅니다. 일반적으로 본인 부서 소유 자원의 예약만 승인할 수 있지만, 기관 공용 자원의 경우 정책에 따라 승인할 수 있습니다.

### Q3. 승인 정책을 변경하고 싶어요.

A. 승인 정책은 **관리자**만 설정할 수 있습니다. 정책 변경이 필요하면 관리자에게 문의하세요.

### Q4. 본인 부서가 없어요.

A. 부서가 없으면 기관 공용 자원만 관리할 수 있습니다. 부서 할당이 필요하면 관리자에게 문의하세요.

### Q5. 자원을 등록했는데 목록에 안 보여요.

A. 다음을 확인하세요:
- 등록 시 소유 부서가 본인 부서로 설정되었는지 확인
- 필터링이 적용되어 있는지 확인
- 페이지를 새로고침

### Q6. 예약 승인 버튼이 안 보여요.

A. 다음을 확인하세요:
- 승인 정책에 따라 본인이 승인할 수 있는 예약인지 확인
- 예약 상태가 "승인 대기"인지 확인
- 관리자에게 승인 권한 확인 요청

### Q7. 반납 확인은 필수인가요?

A. 기관 설정의 반납 확인 정책에 따라 다릅니다. 정책이 "검증 필수"로 설정되어 있으면 반납 확인이 필요합니다.

### Q8. 일반 사용자 기능도 사용할 수 있나요?

A. 네, 부서 관리자도 일반 사용자와 동일하게 자원 조회, 예약 신청, 반납 등 모든 기능을 사용할 수 있습니다.

---

## 주요 기능 요약

### ✅ 할 수 있는 것
- 일반 사용자 기능 모두
- 본인 부서 자원 등록/수정/삭제
- 기관 공용 자원 관리
- 본인 부서 자원의 예약 승인/거부
- 기관 공용 자원의 예약 승인/거부 (정책에 따라)
- 반납 확인 및 검증
- 자원 상태 변경

### ❌ 할 수 없는 것
- 기관 설정 변경
- 사용자 관리 (역할 변경, 초대)
- 승인 정책 설정
- 다른 부서의 자원 관리
- 감사 로그 확인

---

## 도움말

**문제 발생 시:**
1. 이 메뉴얼의 **"자주 묻는 질문"** 확인
2. 관리자에게 문의
3. 시스템 관리자에게 연락

**권한 관련 문의:**
- 승인 권한이 예상과 다르면 관리자에게 문의하세요
- 승인 정책 확인이 필요하면 관리자에게 요청하세요

---

**문의**: 부서 관리자 관련 문의사항은 관리자에게 연락하세요.
